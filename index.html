<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" href="styles.css" />
    <script src="index.js"></script>
  <title>Menstrual Phase Food & Calorie Tracker</title>
</head>
<body>
  <div class="page">
    <header>
      <h1>Menstrual Phase <br> <span>Food & Calorie Tracker</span><br></h1>
    </header>
    <br>
    <p id="IntroText">Did you know that your recommended calorie intake varies depending on where you are in your cycle?
      <br><br>We developed this handy tracker tool so you can see what your daily intake should be, meaning a healthier you!
      <br><br> Simply enter your details below and you will see what today's calorie intake should be.
    </p>
    <br>
    <div id="action_page">
      <form class="form" id="calorie-tracker-form">
        <fieldset>
          <legend style="color:darkmagenta; font-weight:bold;">Enter Your Details</legend>
          <label for="name">Your Name:</label>
          <input type="text" id="name" name="fname" placeholder="Your Name" style="width:200px;"><br><br>
          <label for="age">Your Age:</label>
          <input type="number" id="age" name="age" placeholder="Your Age" style="width:200px;"><br><br>
          <div class="form-row">
            <label class="form-label" for="height-ft">Height:</label>
            <input class="form-input" type="number" id="height-ft" placeholder="Feet" required>
            <input class="form-input" type="number" id="height-in" placeholder="Inches" required>
          </div>
          <label for="weight">Weight:</label>
          <input type="number" id="weight" placeholder="lbs" required style="width:200px;"><br><br>
          <label for="activity">Activity Level:</label>
          <select id="activity" required style="width:200px;">
            <option value="">Select an activity level</option>
            <option value="Sedentary (office job)">Sedentary (office job)</option>
            <option value="Light Exercise (1-2 days a week)">Light Exercise (1-2 days a week)</option>
            <option value="Moderate Exercise (3-5 days a week)">Moderate Exercise (3-5 days a week)</option>
            <option value="Heavy Exercise (6-7 days a week)">Heavy Exercise (6-7 days a week)</option>
            <option value="Athlete (2x a day)">Athlete (2x a day)</option>
          </select>
          <br>
          <label for="cycle">Days since your last period:</label>
          <input type="number" id="cycle" placeholder="Days since last period" required style="width:200px;"><br><br>
          <label for="cycle-length">Average Cycle length:</label>
          <input type="number" id="cycle-length" placeholder="Average cycle length" required style="width:200px;"><br><br>
          <input type="submit" value="Submit">
        </fieldset>
      </form>

    <div class="row">
        <div class="column">
          <p align="center"><iframe src="https://calendar.google.com/calendar/embed?height=300&wkst=1&bgcolor=%23B39DDB&ctz=Europe%2FLondon&hl=en_GB&src=N2M4N2U3YWU5NTljYWZlYmI0YjE4ZTA0MGZhMTAyOGM0ODBiMzBhNWIyMmJiOGFkOGUzYmMwMjliY2Q5NjA0Y0Bncm91cC5jYWxlbmRhci5nb29nbGUuY29t&color=%23795548" style="border:solid 1px #777" width="300" height="300" frameborder="0" scrolling="no"></iframe></p>
        </div>

        <div class="column">
          <p>Weight Converter</p>
          <span>Weight In Stones:</span>
          <input type="number" id="stone-amount" placeholder="i.e. 10.9" style="width:70px;">
          <button onclick="weightConverterStone()">
            Convert
          </button>
          <br>
          <span>Weight In Kilos:</span>
          <input type="number" id="kilo-amount" placeholder="i.e. 101" style="width:70px;">

          <button onclick="weightConverterKilo()">
            Convert
          </button>

          <br>

          <p>
            Weight In Pounds:
            <span id="lb-amount"></span>
          </p>
        </div>
      </div>

   
      <p id="results">
    
    <br><br>
      
  <p id="results">
    </div>
  </div>
</body>
<script>
  // Calculate stage of menstrual cycle
  function menstrualCycleStage(cycle, cycleLength) {
    const daysInCycle = cycle % cycleLength;

    if (daysInCycle <= 5) {
      return "Menstruation";
    } else if (daysInCycle <= 14) {
      return "Follicular Phase";
    } else if (daysInCycle <= 21) {
      return "Ovulation";
    } else {
      return "Luteal Phase";
    }
  }

  // Calculate TDEE
  function functionCalculateTDEE(bmr, activity) {
    let tdee;

    switch (activity) {
      case "Sedentary (office job)":
        tdee = Math.round(bmr * 1.2);
        break;
      case "Light Exercise (1-2 days a week)":
        tdee = Math.round(bmr * 1.375);
        break;
      case "Moderate Exercise (3-5 days a week)":
        tdee = Math.round(bmr * 1.55);
        break;
      case "Heavy Exercise (6-7 days a week)":
        tdee = Math.round(bmr * 1.725);
        break;
      case "Athlete (2x a day)":
        tdee = Math.round(bmr * 1.9);
        break;
    }

    return tdee;
  }

    // Calculate BMI
  function calculateBMI(weight, heightInCm) {
    const heightInMeters = heightInCm / 100;
    return (weight / (heightInMeters * heightInMeters)).toFixed(2);
  }

  // Show results
function showResults(weight, heightInCm, tdee, cycleStage) {
  const results = document.getElementById("results");

  // Clear any existing content in the "Results" div
  results.innerHTML = "";

  // Calculate and display menstrual phase if available
  if (cycleStage) {
    const cycleParagraph = document.createElement("p");
    cycleParagraph.textContent = "Your current menstrual stage is " + cycleStage;
    results.appendChild(cycleParagraph);
  }

  // Calculate and display BMI
  const bmi = calculateBMI(weight, heightInCm);
  const bmiParagraph = document.createElement("p");
  bmiParagraph.textContent = "Your BMI is: " + bmi;
  results.appendChild(bmiParagraph);

  // Calculate and display maintenance calories
  const tdeeParagraph = document.createElement("p");
  tdeeParagraph.textContent = "To maintain your current weight during this time you should aim to eat " + tdee + " calories.";
  results.appendChild(tdeeParagraph);

  // Calculate calorie intake for weight loss during the cycle stage
  const tdeeForWeightLoss = tdee - 500;
  const weightLossParagraph = document.createElement("p");
  weightLossParagraph.textContent = "If you want to lose weight during this time you should eat " + tdeeForWeightLoss + " calories.";
  results.appendChild(weightLossParagraph);

  // Calculate calorie intake for weight gain during the cycle stage
  const tdeeForWeightGain = tdee + 500;
  const weightGainParagraph = document.createElement("p");
  weightGainParagraph.textContent = "If you want to gain weight during this time you should eat " + tdeeForWeightGain + " calories.";
  results.appendChild(weightGainParagraph);
}

  // Calculate calorie intake for weight gain during the cycle stage
    const tdeeForWeightGain = tdee + 500;
    const weightGainParagraph = document.createElement("p");
    weightGainParagraph.textContent = "If you want to gain weight during this time you should aim to eat " + tdeeForWeightGain + " calories.";
    results.appendChild(weightGainParagraph);

  // Event listener for form submission
document.getElementById("calorie-tracker-form").addEventListener("submit", function (event) {
  event.preventDefault(); // Prevent form submission

  // Retrieve form values
  const name = document.getElementById('name').value;
  const age = parseInt(document.getElementById('age').value);
  const heightFt = parseInt(document.getElementById('height-ft').value);
  const heightIn = parseInt(document.getElementById('height-in').value);
  const weight = parseInt(document.getElementById('weight').value);
  const activity = document.getElementById('activity').value;
  const cycle = parseInt(document.getElementById('cycle').value);
  const cycleLength = parseInt(document.getElementById('cycle-length').value);

  // Calculate BMR
  let bmr = 447.593 + (9.247 * weight) + (3.098 * ((heightFt * 12) + heightIn));
  bmr = bmr - (4.330 * age);
  bmr = Math.round(bmr);

  // Calculate TDEE
  let tdee = bmr;
  if (cycleLength && !isNaN(cycle) && !isNaN(cycleLength)) {
    const daysInCycle = cycle % cycleLength;
    if (daysInCycle <= 5) {
      tdee += 254;
    } else if (daysInCycle > 21) {
      tdee += 375;
    }
  }

  // Calculate the menstrual cycle stage
  const cycleStage = menstrualCycleStage(cycle, cycleLength);

  // Show results with the cycle stage
  showResults(weight, heightFt, tdee, cycleStage);
});
    
  event.preventDefault(); // Prevent the form submission
  });
</script>
    </div>
  </div>
</body>
</html>
